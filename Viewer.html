<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ball Trajectory Visualization</title>
    <style>
        .svg_traj {
            stroke: #000000;
            stroke-width: 2;
            fill: none;
        }

        .svg_point {
            fill: #000000;
            stroke: #000000;
            stroke-width: 1;
        }

        .floating_ball {
            fill: #00ff00;
            stroke: #006600;
            stroke-width: 2;
        }

        .svg_mask_traj {
            stroke: #ffff00;
            stroke-width: 12; /* thick enough to cover floating_ball */
            stroke-dasharray: 5,5;
            fill: none;
            opacity: 0.7; /* semi-transparent for testing */
            stroke-linecap: round;
        }

        .svg_mask_point {
            fill: #ffffff;
            stroke: #ff0000; /* red outline for testing */
            stroke-width: 2;
            opacity: 0.7; /* semi-transparent for testing */
        }

        .svg_point_hidden,
        .svg_traj_hidden {
            display: none;
            /* Alternative approach if display: none causes issues:
            visibility: hidden;
            opacity: 0;
            pointer-events: none; */
        }

        svg {
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
<svg viewBox="0 0 600 400" width="600" height="400">
    <g id="svg_ball_bottom"></g>
    <g id="svg_ball_middle"></g>
    <g id="svg_ball_top"></g>

    <g id="svg_traj"></g>
</svg>

<script type="module">
    import { Segment, Point } from './Path.js';
    import { NormalAnimation } from './NormalAnimator.js';
    import { DOMBallAnimator } from './DOMBall.js';
    import { DOMPathRenderer } from './DOMPath.js';

    // Example usage - create a sample path
    const path = [
        new Segment(new Point(50, 50), new Point(150, 50), 1),
        new Segment(new Point(150, 50), new Point(250, 150), 1),
        new Segment(new Point(250, 150), new Point(350, 200), 1),
        new Segment(new Point(350, 200), new Point(450, 250), 1)
    ];

    const params = {
        countFrom: 0,
        countTo: -1,
        distance: 150,
        invert: true
    }

    // Process path
    let na = new NormalAnimation(new DOMPathRenderer(), new DOMBallAnimator())
    na.SimpleConfigure(path, params)
    na.Load();
    na.Play();

</script>
</body>
</html>